# =============================================================================
# Production Environment Configuration Template
# =============================================================================
# This is a template for the production environment on internal server.
# Copy this file to .env.production and fill in actual values.
# IMPORTANT: Encrypt .env.production with git-secret before committing!

# =============================================================================
# Environment Selection
# =============================================================================
DJANGO_ENVIRONMENT=production

# =============================================================================
# Django Core Settings
# =============================================================================
DEBUG=False
SECRET_KEY=generate-unique-production-secret-key-min-50-chars
ALLOWED_HOSTS=your-production-domain.com,your-internal-ip
PORT=8000

# =============================================================================
# Database (Production PostgreSQL)
# =============================================================================
# Your internal server database connection
DATABASE_URL=postgresql://user:password@host:5432/database_name

# =============================================================================
# PII Encryption (POPIA Compliance)
# =============================================================================
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
# IMPORTANT: Use a DIFFERENT key than testing/dev
FIELD_ENCRYPTION_KEY=generate-unique-production-encryption-key-base64

# =============================================================================
# Frontend Configuration
# =============================================================================
FRONTEND_URL=https://pss-frontend-ebon.vercel.app
CORS_ALLOWED_ORIGINS=https://pss-frontend-ebon.vercel.app
CSRF_TRUSTED_ORIGINS=https://pss-frontend-ebon.vercel.app

# =============================================================================
# Email Configuration (Production SMTP)
# =============================================================================
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.sendgrid.net
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=apikey
EMAIL_HOST_PASSWORD=your-production-sendgrid-api-key
DEFAULT_FROM_EMAIL=noreply@capaciti.org.za

# Email notifications
ADMIN_NOTIFICATION_EMAIL=Seth.Valentine@capaciti.org.za
EMAIL_QUEUE_ENABLED=False
EMAIL_MAX_RETRIES=3
EMAIL_RETRY_DELAY_SECONDS=30

# =============================================================================
# CAPTCHA Configuration (Google reCAPTCHA v3)
# =============================================================================
CAPTCHA_ENABLED=True
CAPTCHA_PROVIDER=recaptcha
CAPTCHA_TRIGGER_THRESHOLD=3
RECAPTCHA_PUBLIC_KEY=your-production-recaptcha-site-key
RECAPTCHA_PRIVATE_KEY=your-production-recaptcha-secret-key
RECAPTCHA_REQUIRED_SCORE=0.5

# =============================================================================
# Security Settings (Strict Production)
# =============================================================================
SECURE_SSL_REDIRECT=True
SESSION_COOKIE_SECURE=True
CSRF_COOKIE_SECURE=True
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=True
SECURE_HSTS_PRELOAD=True

# =============================================================================
# Inactive Account Retention (POPIA Compliance)
# =============================================================================
INACTIVE_ACCOUNT_THRESHOLD_YEARS=2
INACTIVE_ACCOUNT_GRACE_PERIOD_DAYS=30

# =============================================================================
# Optional: Celery/Redis (if using email queue)
# =============================================================================
# CELERY_BROKER_URL=redis://localhost:6379/0
# CELERY_RESULT_BACKEND=redis://localhost:6379/0

# =============================================================================
# Notes:
# - This environment runs on your internal server
# - Uses local PostgreSQL database
# - Media files stored locally in /media directory
# - Strictest security settings
# - All secrets must be unique from testing/dev environments
# =============================================================================
